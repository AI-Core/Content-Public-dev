# EDA

- Exploratory Data Analysis, or EDA for short, is a process used to analyze and summarize their main characteristics
    - EDA it's usually done by visualizing the data in a graphical way. 
    - But you can also perform EDA by using statistical analysis,
        - For example, by exploring the distribution of the data, or by looking at statistical values of the dataset
    - Performing a good EDA should be the first step in any data analysis project because it helps us take the first steps towards understanding the data
    - It also makes it easier to find patterns in the data, test hypotheses, and identify relationships between variables.
    - This eventually will help you to make a good decision about how to make predictions and how to proceed with your project.
    - So, EDA can help us creating the first hypothesis about the predictions we will make with the data
        - For example, if we are exploring the salary of different AI related jobs, and see, for example, that MLOps have a higher salary, it is very likely that the model will predict higher salaries for someone that works in MLOps

- __`[RUN THE DEMO IN THE NOTEBOOK]`__
- One of the main techniques used in EDA is the **data visualization**.
    - Essentially, it consists of plotting the data in a way that is easy to understand and interpret.
    - To see some examples, let's load a dataset and visualize it.
    - The dataset contains information about the life expectancy of different countries in different years.
    - __`[RUN THE CELL]`__
    - After running the cell, the dataset is stored in `df`
    - There are different libraries you can use in Python for data visualisation. You can use matplotlib, seaborn, plotly, or bokeh. The choice depends on your preference.
    - In this video we will mainly use the library `seaborn`
    - Depending on the type of data, the visualization can be done in different ways.
    - For example, you can use a **scatter plot** to visualize the relationship between two variables.
        - In this case, we can use the scatter plot to visualize the relationship between the life expectancy and the year in Japan.
        - __`[RUN THE CELL]`__
        - As you can see, the life expectancy grows over time.
        - Notice that, in 2011, the life expectancy in Japan doesn't follow the trend
        - This might be a good example of why EDA can be useful, to notice samples that might be worth exploring
        - You can also plot the life expectancy of all the countries using the `.groupby()` method
        - __`[RUN THE CELL]`__
        - You can see that there is a clear trend in the life expectancy of all the countries
        - We already know that, if we wanted to predict the life expectancy of a country, we would want to include the year in the analysis
    - Another example you can use for plotting a graph is using a **histograms**, which is useful to visualize the distribution of the data.
        - We can see the consumption of alcohol per capita per year
        - __`[RUN THE CELL]`__
        - The histogram is telling us that in most countries the consumption of alcohol per capita is between 0 and 0.5 litres per capita
        - Examples of countries that keep this value low might be those in which alcohol is prohibited
        - For example, in Afghanistan, alcohol is mainly prohibited, except for certain people
        - __`[RUN THE CELL]`__
        - So, in this histogram, we can see that basically the consumption per capita in Afghanistan is between 0.01 and 0.03 litres per capita
        - On the other hand, other countries might have a higher consumption of alcohol per capita
        - For example, let's take a look at the alcohol consumption in Spain
        - __`[RUN THE CELL]`__
        - Most of the values in this histogram are between 8.5 and 12.5 litres per capita
        - So, this is another important use of EDA
        - You can see that the some samples have a complete different distribution than others
        - So it's important to take a good look at your data before you jump to conclusions
    - Another type of plot we will explore in this video is **heatmaps**, which is useful to visualize distributions of the data in a matrix format.
        - One useful example of using heatmaps is to visualize the correlation between different variables.
        - For example, let's take a look at some columns and plot the correlation between them
        - __`[RUN THE CELL]`__
        - The graph here shows different colours to represent the level of correlation between the variables
        - The more intense the colour, the higher the correlation. In this particular case, red colour means a positive correlation, whereas a blue colour means a negative correlation
        - If there is barely any correlation between the variables, the colour will be white
        - Notice that the matrix is symmetric, and that the correlation between a variable and itself is always 1
        - So, heatmaps can be very helpful to identify which variables are correlated with each other
        - If the correlation is high, we should consider performing a transformation before feeding the data to the model
    - One of the reasons why data visualization is important is because not everything can be known using aggregated statistics such as mean or variance
        - One of the most common example to visualize this is the Ascombe's Quartet
        - Seaborn has a dataset called `ascombe` that contains information about this quartet
        - This dataset actually contains four different datasets, each one with eleven points
        - __`[RUN THE CELL]`__
        - Let's take a look at the statistics of each quartet
        - __`[RUN THE CELL]`__
        - As you can see, every quartet has the same mean and standard deviation
        - So you might think that they all look similar
        - However, let's observe the plots of each quartet
        - __`[RUN THE CELL]`__
        - Notice that the distributions are very different
        - Even though the statistics are the same, the distributions shows us things that are difficult to see only using aggregated statistics
        - For example, using only the statistics of the quartets didn't allow us to identify the outliers
        - Also, by only observing the aggregated statistics, we can't see patterns followed by the data in each quartet
    - So you can detect, outliers and patterns more easily visualizing the data
    - Also, understanding the distribution of the data is important to make a good decision
    - And data visualization is a great way to see the distribution of the data

- As mentioned earlier, **data visualization** is not the only step in EDA.
    - EDA doesn't only consists of plotting the data and observe the graph
    - It is also important to understand the variables we are handling
    - For example, if we want to check the life expectancy of a country, should we include the population in the analysis?
    - Probably people with HIV/AIDS are more likely to die than people without HIV/AIDS, so we should understand what variables are worth considering and which ones are likely to be important
    - Another reason understanding the data is important is because we might have missing values
    - Let's check the missing values in the dataset we loaded earlier
    - We can calculate the number of missing values using the `.isnull()` method and then adding the number of True values using the `.sum()` method
    - __`[RUN THE CELL]`__
    - We can observe that different columns have different number of missing values
    - Dealing with missing values is important because it can affect the model performance
    - You can drop those columns with missing values
    - Or maybe dropping the rows that contain missing values
    - You can also impute the missing values, which consists of replacing the missing values with different values
    - Choosing the right strategy to deal with missing values highly depends on the problem
